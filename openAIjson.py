import openai

api_key = "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"

query = """
3X40  CNTR(S) S.T.C
SHIPPER'S LOAD STOW COUNT
4 UNPACKED SINGLE UNIT
OF
USED CARS
ZAUR NAGHIYEVBAKU,
AZERBAIJAN, APT 37,
KHOJALI 24
RNC NO : C03045411
TEL : 994503105079
E-MAIL :
ZAUR.NAGIEV@GMAIL.COM
1 HYUNDAI SANTAFE 2009
2010 GRAY
KMHSJ81UBAU581004
NAMAZOV MAHAMMAD AA3300861
2 HYUNDAI SANTAFE 2009
2010 WHITE
KMHSH81UBAU539365
NAMAZOV MAHAMMAD AA3300861
3 KIA SORENTO 2011 2011
GRAY KNAKU815BBA201483
ISAYEVA RENA AZE09762068
4 KIA K3 2015 2015 WHITE
KNAFJ41BBFA483730
BAYRAMOV AMID AZE16428746
4 UNPACKED SINGLE UNIT
OF
USED CARS
ZAUR NAGHIYEVBAKU,
AZERBAIJAN, APT 37,
KHOJALI 24
RNC NO : C03045411
TEL : 994503105079
E-MAIL :
ZAUR.NAGIEV@GMAIL.COM
5 HYUNDAI AVANTE 2013
2014 SILVER
KMHDG41UBEU048618
BAYRAMOV BAGHIR AA0119626
6 HYUNDAI SANTAFE 2010
2011 WHITE
KMHSJ81UBBU648453
SEYMUR ISAYEV AA3123267
7 KIA SORENTO 2011 2011
SILVER KNAKU815BBA202090
IMANOV SAMIR AA0105657
8 KIA SORENTO 2011 2011
SILVER KNAKU815BBA184223
ISAYEVA RENA AZE09762068
4 UNPACKED SINGLE UNIT
OF
USED CARS
ZAUR NAGHIYEVBAKU,
AZERBAIJAN, APT 37,
KHOJALI 24
RNC NO : C03045411
TEL : 994503105079
E-MAIL :
ZAUR.NAGIEV@GMAIL.COM
9 HYUNDAI SANTAFE 2012
2013 WHITE
KMHSW81UBDU059528
ZAUR NAGHIYEV C03045411
10 HYUNDAI GRANDEUR 2016
2017 BLACK
KMHFF41RBHA571584
DADASHOV ALI AZE16034807
11 HYUNDAI SANTAFE 2014
2015 WHITE
KMHSW81UBFU373471
ISAYEV SEYMUR AA3123267
12 KIA SORENTO 2013 2014
SILVER KNAKU815DEA471905
HASHIMOV SARKHAN AA1808897
FREIGHT COLLECT
"""
openai.api_key = api_key

response = openai.ChatCompletion.create(
    model="gpt-3.5-turbo",
    messages=[
        {"role": "user", "content": f"extract info from this in the form of json:\n{query}"}
    ]
)

extracted_info = response['choices'][0]['message']['content'].strip()

print(extracted_info)
